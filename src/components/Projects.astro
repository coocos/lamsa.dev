---
import { getRepositories } from "../apis/getRepositories";

const repositories = await getRepositories();
---

<h2 class="text-2xl text-pink-700 mb-8">Projects</h2>
<p class="text-gray-800">
  I occasionally publish toy projects and experiments I've developed:
</p>
<ul>
  {
    repositories.map(({ url, description, createdAt, languages }) => (
      <li class="my-4">
        <div class="flex">
          <a href={url} class="text-pink-700">
            {description}
          </a>
          <span class="ml-auto text-gray-400">{createdAt.getFullYear()}</span>
        </div>
        <ul class="flex gap-2">
          {languages.map((name) => (
            <li>{name}</li>
          ))}
        </ul>
      </li>
    ))
  }
</ul>
